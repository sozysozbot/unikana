<!DOCTYPE html>
<html>
<meta charset="utf-8">

<head>
    <title>ユニかな！　ステージ 1-1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <script src="audio.js"></script>
    <script src="main.js"></script>
</head>

<body>

    <audio id="bgm" src="stage1-bgm.wav" loop></audio>

    <button onclick="startBGM()">Start BGM</button>
    <button onclick="stopBGM()">Stop BGM</button>

    <script>
        const stageChallengeTexts = [
            { "length": 2, "challenge": "{七|なな}", "commentary": "数の1つ" },
            { "length": 2, "challenge": "{何|なに}", "commentary": "疑問詞" },
            { "length": 2, "challenge": "{煮|に}な", "commentary": "グツグツの必要" },
            { "length": 2, "challenge": "{似|に}ぬ", "commentary": "見た目が異なる" },
            { "length": 2, "challenge": "{布|ぬの}", "commentary": "着ましょう" },
            { "length": 2, "challenge": "{寝|ね}ぬ", "commentary": "徹夜" },
            { "length": 2, "challenge": "{寝|ね}な", "commentary": "明日は朝早い" },
            { "length": 2, "challenge": "{菜|な}の", "commentary": "of vegetables" },
            { "length": 2, "challenge": "{野|の}に", "commentary": "in the field" },
            { "length": 3, "challenge": "{何|なに}に", "commentary": "疑問" },
            { "length": 3, "challenge": "{布|ぬの}の", "commentary": "" },
            { "length": 3, "challenge": "なのに", "commentary": "逆接" },
            { "length": 3, "challenge": "{七|なな}ね", "commentary": "" },
            { "length": 3, "challenge": "{野|の}に{菜|な}", "commentary": "豊かな自然" },
            { "length": 3, "challenge": "{煮|に}ぬ{菜|な}", "commentary": "サラダとか" },
            { "length": 4, "challenge": "{名|な}なのに", "commentary": "実名なんだけど" },
            { "length": 4, "challenge": "{寝|ね}ぬのに", "commentary": "昼間に寝すぎた" },
            { "length": 4, "challenge": "{根|ね}の{菜|な}ね", "commentary": "ゴボウとかね" },
            { "length": 4, "challenge": "{似|に}ぬのに", "commentary": "完全に別物だよ" },
            { "length": 4, "challenge": "{野|の}に{寝|ね}ぬ", "commentary": "ベッドで寝よう" },
            { "length": 4, "challenge": "{奈|な}{々|な}なの", "commentary": "自己紹介" },
            { "length": 5, "challenge": "{布|ぬの}に{似|に}ぬ", "commentary": "不織布マスク" },
            { "length": 5, "challenge": "{七|なな}なのに", "commentary": "6じゃないのに" },
            { "length": 5, "challenge": "{寝|ね}ぬのにな", "commentary": "どうせ徹夜よ" },
            { "length": 5, "challenge": "{奈|な}{々|な}のなの", "commentary": "私のお人形！" },
            { "length": 5, "challenge": "{寧|ね}{々|ね}の{布|ぬの}", "commentary": "私のお洋服" },
            { "length": 6, "challenge": "{何|なに}{何|なに}{何|なに}", "commentary": "どうしたの" },
            { "length": 6, "challenge": "{布|ぬの}なのにね", "commentary": "紙じゃないのに" },
            { "length": 6, "challenge": "{菜|な}に{似|に}ぬ{布|ぬの}", "commentary": "肉に似てる" },
            { "length": 7, "challenge": "{煮|に}ぬ{根|ね}なのにね", "commentary": "生の方が美味い" },
            { "length": 8, "challenge": "{奈|な}{々|な}の{布|ぬの}なのに", "commentary": "横取りやめて" },
        ];
    </script>

    <table class="keyboard">
        <tr>
            <td class="no-entry" onclick="beepSound()">⛔</td>
            <td class="no-entry" onclick="beepSound()">⛔</td>
            <td class="no-entry" onclick="beepSound()">⛔</td>
            <td class="no-entry" onclick="beepSound()">⛔</td>
        </tr>
        <tr>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
        </tr>
        <tr>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
            <td onclick="startBGMIfNotPlaying(); insertAtCursor('A')">A</td>
            <td onclick="startBGMIfNotPlaying(); insertAtCursor('B')">B</td>
        </tr>
        <tr>
            <td onclick="startBGMIfNotPlaying(); insertAtCursor('C')">C</td>
            <td onclick="startBGMIfNotPlaying(); insertAtCursor('D')">D</td>
            <td onclick="startBGMIfNotPlaying(); insertAtCursor('E')">E</td>
            <td class="no-entry" onclick="startBGMIfNotPlaying(); beepSound()">⛔</td>
        </tr>
    </table>

    <div class="outer-container">
        <h1 style="position: absolute; font-size: 15px; right: 0px; margin-top: 0; margin-right: 3px"><img
                src="logo.png" width="100" alt="ユニかな！"></h1>
        <h2 style="position: absolute; font-size: 15px; margin-top: 0;margin-left: 3px">ステージ 1-1</h2>
        <span id="judgement_when_completed"
            style="position: absolute; font-size: 45px; right: 0px; bottom: 30px;"></span>

        <div id="challenge-text" style="text-align: center; font-size: 40px; margin-top: 10px;"><ruby>七<rt>なな</rt>
            </ruby></div>
        <div class="input-container">
            <div class="grid" style="height: 80px; margin: 50px auto 0 auto; ">
                <div id="char0" class="grid-char-cell unfilled-char-cell"></div>
                <div id="char1" class="grid-char-cell unfilled-char-cell"></div>
                <div class="grid-unicode-cell"><span class="immutable">U+306</span><input class="single-digit-codepoint"
                        type="text" size="1" maxlength="1" pattern="[A-Ea-e]" id="codepoint0" autofocus
                        oninput="startBGMIfNotPlaying(); sync_triggered_from_textinput(0)"></div>
                <div class="grid-unicode-cell"><span class="immutable">U+306</span><input class="single-digit-codepoint"
                        type="text" size="1" maxlength="1" pattern="[A-Ea-e]" id="codepoint1"
                        oninput="startBGMIfNotPlaying(); sync_triggered_from_textinput(1)"></div>
            </div>
        </div>
    </div>


    <table>
        <tr>
            <td>A</td>
            <td>B</td>
            <td>C</td>
            <td>D</td>
            <td>E</td>
        </tr>
        <tr>
            <td>な</td>
            <td>に</td>
            <td>ぬ</td>
            <td>ね</td>
            <td>の</td>
        </tr>
    </table>

    <small>作者: <a href="https://twitter.com/hsjoihs">hsjoihs</a><br>
        BGM は <a href="https://instachord.com/">InstaChord</a> および <a
            href="https://www.ah-soft.com/synth-v/teto/">Synthesizer V Studio Pro の重音テト</a>で製作しました</small>
</body>